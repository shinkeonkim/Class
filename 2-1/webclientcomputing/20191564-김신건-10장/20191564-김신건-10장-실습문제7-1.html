<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>산수를 풀어봅시다.</title>

    <script>
        function test() {
            var ret = 0;
            var querys = document.getElementsByClassName("query");
	        var answers = document.getElementsByClassName("answer");
            for(i=0; i<querys.length; i++) {
                var answer = eval(querys[i].innerHTML);
                var userAns = answers[i].value;

                var chk = true;
                if(userAns == "" || isNaN(userAns)) {
                    chk = false;
                } 
                else if(parseInt(userAns) != parseInt(answer)) {
                    chk = false;
                }

                if(chk) {
                    ret+=1;
                }
                else {
                    querys[i].style.textDecoration = "line-through"
                }
            }
		    document.getElementById("score").innerHTML = ret;
        }

        function makeProblem() {

		    document.getElementById("score").innerHTML = 0;
            var querys = document.getElementsByClassName("query");
	        var answers = document.getElementsByClassName("answer");
            for(i=0; i<querys.length; i++) {
                answers[i].value="";
                var num1 = Math.floor(Math.random()*50);
                var num2 = Math.floor(Math.random()*50)+1;
                var operator_number = Math.floor(Math.random()*4);
                var operator_list ="+-*/";
                var operator = operator_list[operator_number];
                querys[i].innerHTML = num1 + operator + num2;
                querys[i].style.textDecoration = "none"
        	}
        }
    </script>
</head>
<body onload="makeProblem()">
    <h3>
        산수 문제를 풀어봅시다.
    </h3>
    수실을 계산하여 답을 입력하고 채점 버튼을 누르세요.
    <hr>

    <form>
        <table>
            <tr>
                <td class = "query"></td>
                <td>
                    <input type="text" class = "answer">
                </td>
            </tr>
    
            <tr>
                <td class = "query"></td>
                <td>
                    <input type="text" class = "answer">
                </td>
            </tr>
    
            <tr>
                <td class = "query"></td>
                <td>
                    <input type="text" class = "answer">
                </td>
            </tr>
            
            <tr>
                <td class = "query"></td>
                <td>
                    <input type="text" class = "answer">
                </td>
            </tr>
        </table>
        <input type = button onclick="test()" value="채점">
        <span id = "score"></span>
    </form>

</body>
</html>